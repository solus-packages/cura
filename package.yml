name       : cura
version    : 3.0.3
release    : 2
source     :
    - https://github.com/Ultimaker/Cura/archive/3.0.3.tar.gz : d10e86682201c8dd450174bcfbeac7e91c27d729577eddd3c0215c2c645d8716
license    : LGPL-3.0
component  : office
summary    : 3D printer / slicing control software
description: |
    Cura is a project which aims to be an single software solution for 3D
    printing. While it is developed to be used with the Ultimaker 3D printer,
    it can be used with other RepRap based designs.

    Cura prepares your model for 3D printing. For novices, it makes it easy to
    get great results. For experts, there are over 200 settings to adjust to
    your needs. As it's open source, our community helps enrich it even more.
builddeps  :
    - python-uranium
    - python-pytest
    - scipy
rundeps    :
    - curaengine
    - python-pyserial
    - python-uranium
    - python-zeroconf
    - scipy
setup      : |
    # https://github.com/Ultimaker/Cura/issues/2664
    %patch -p1 < $pkgfiles/cura-fix-tests.patch

    sed -i 's|lib/python${PYTHON_VERSION_MAJOR}/dist-packages|lib/python${PYTHON_VERSION_MAJOR}.${PYTHON_VERSION_MINOR}/site-packages|g' CMakeLists.txt
    %cmake .
build      : |
    %make
install    : |
    %make_install
check      : |
    python3 -m pytest -v
